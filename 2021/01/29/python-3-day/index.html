<!-- build time:Sun May 23 2021 12:18:31 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/imageshttps:/tenadmin.oss-cn-chengdu.aliyuncs.com/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color=""><link rel="manifest" href="/images/manifest.json"><meta name="msapplication-config" content="/images/browserconfig.xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Alan" href="http://47.97.229.110/rss.xml"><link rel="alternate" type="application/atom+xml" title="Alan" href="http://47.97.229.110/atom.xml"><link rel="alternate" type="application/json" title="Alan" href="http://47.97.229.110/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC%E2%80%99:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="http://47.97.229.110/2021/01/29/python-3-day/"><title>python_3_day - ython | Yume Shoka = Alan</title><meta name="generator" content="Hexo 5.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">python_3_day</h1><div class="meta"><span class="item" title="创建时间：2021-01-29 21:38:29"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-01-29T21:38:29+08:00">2021-01-29</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>33k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>30 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipexbei4hj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipevarprfj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclil3m4ej20zk0m8tn8.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/ython/" itemprop="item" rel="index" title="分类于 ython"><span itemprop="name">ython</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://47.97.229.110/2021/01/29/python-3-day/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="John Doe"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Alan"></span><div class="body md" itemprop="articleBody"><p>Python 入门 (下)<br>简介</p><p>函数</p><ol><li>函数的定义</li><li>函数的调用</li><li>函数文档</li><li>函数参数</li><li>函数的返回值</li><li>变量作用域</li></ol><p>Lambda - 表达式</p><ol><li>匿名函数的定义</li><li>匿名函数的应用</li></ol><p>类与对象</p><ol><li>属性和方法组成对象</li><li>self 是什么？</li><li>Python 的魔法方法</li><li>公有和私有</li><li>继承</li><li>组合</li><li>类、类对象和实例对象</li><li>什么是绑定？</li><li>一些相关的内置函数（BIF）</li></ol><p>魔法方法</p><ol><li>基本的魔法方法</li><li>算术运算符</li><li>反算术运算符</li><li>增量赋值运算</li><li>一元运算符</li><li>属性访问</li><li>描述符</li><li>定制序列</li><li>迭代器</li></ol><p>简介<br>Python 是一种通用编程语言，其在科学计算和机器学习领域具有广泛的应用。如果我们打算利用 Python 来执行机器学习，那么对 Python 有一些基本的了解就是至关重要的。本 Python 入门系列体验就是为这样的初学者精心准备的。</p><p>本实验包括以下内容：</p><p>函数<br>函数的定义<br>函数的调用<br>函数文档<br>函数参数<br>函数的返回值<br>变量作用域<br>Lambda 表达式<br>匿名函数的定义<br>匿名函数的应用<br>类与对象<br>对象 = 属性 + 方法<br>self 是什么？<br>Python 的魔法方法<br>公有和私有<br>继承<br>组合<br>类、类对象和实例对象<br>什么是绑定？<br>一些相关的内置函数（BIF）<br>魔法方法<br>基本的魔法方法<br>算术运算符<br>反算术运算符<br>增量赋值运算符<br>一元运算符<br>属性访问<br>描述符<br>定制序列<br>迭代器<br>函数<br>函数的定义<br>还记得 Python 里面 “万物皆对象” 么？Python 把函数也当成对象，可以从另一个函数中返回出来而去构建高阶函数，比如： 参数是函数、返回值是函数。</p><p>我们首先来介绍函数的定义。</p><p>函数以 def 关键词开头，后接函数名和圆括号 ()。<br>函数执行的代码以冒号起始，并且缩进。<br>return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的 return 相当于返回 None。<br>def functionname (parameters):<br>&quot;函数_文档字符串&quot;<br>function_suite<br>return [expression]</p><p>函数的调用<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>printme<span class="token punctuation">(</span><span class="token string">"我要调用用户自定义函数!"</span><span class="token punctuation">)</span>  <span class="token comment"># 我要调用用户自定义函数！</span></pre></td></tr><tr><td data-num="6"></td><td><pre>printme<span class="token punctuation">(</span><span class="token string">"再次调用同一函数"</span><span class="token punctuation">)</span>  <span class="token comment"># 再次调用同一函数</span></pre></td></tr><tr><td data-num="7"></td><td><pre>temp <span class="token operator">=</span> printme<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment"># hello</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>  <span class="token comment"># None</span></pre></td></tr></table></figure><p>我要调用用户自定义函数！<br>再次调用同一函数<br>hello<br>None<br>函数文档<br>def MyFirstFunction (name):<br>&quot;函数定义过程中 name 是形参&quot;<br># 因为 Ta 只是一个形式，表示占据一个参数位置<br>print (' 传递进来的 {0} 叫做实参，因为 Ta 是具体的参数值！'.format (name))<br>​<br>​<br>MyFirstFunction (' 老马的程序人生 ')</p><h1 id="传递进来的老马的程序人生叫做实参因为ta是具体的参数值"><a class="anchor" href="#传递进来的老马的程序人生叫做实参因为ta是具体的参数值">#</a> 传递进来的老马的程序人生叫做实参，因为 Ta 是具体的参数值！</h1><p>​<br>print(MyFirstFunction.<strong>doc</strong>)</p><h1 id="函数定义过程中name是形参"><a class="anchor" href="#函数定义过程中name是形参">#</a> 函数定义过程中 name 是形参</h1><p>​<br>help(MyFirstFunction)</p><h1 id="help-on-function-myfirstfunction-in-module-main"><a class="anchor" href="#help-on-function-myfirstfunction-in-module-main">#</a> Help on function MyFirstFunction in module <strong>main</strong>:</h1><h1 id="myfirstfunctionname"><a class="anchor" href="#myfirstfunctionname">#</a> MyFirstFunction(name)</h1><h1 id="函数定义过程中name是形参-2"><a class="anchor" href="#函数定义过程中name是形参-2">#</a> 函数定义过程中 name 是形参</h1><p>传递进来的老马的程序人生叫做实参，因为 Ta 是具体的参数值！<br>函数定义过程中 name 是形参<br>Help on function MyFirstFunction in module <strong>main</strong>:</p><p>MyFirstFunction(name)<br>函数定义过程中 name 是形参</p><p>函数参数<br>Python 的函数具有非常灵活多样的参数形态，既可以实现简单的调用，又可以传入非常复杂的参数。从简到繁的参数形态如下：</p><p>位置参数 (positional argument)<br>默认参数 (default argument)<br>可变参数 (variable argument)<br>关键字参数 (keyword argument)<br>命名关键字参数 (name keyword argument)<br>参数组合</p><ol><li>位置参数</li></ol><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"函数_文档字符串"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>       function_suite</pre></td></tr><tr><td data-num="4"></td><td><pre>       <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><p>arg1 - 位置参数 ，这些参数在调用函数 (call function) 时位置要固定。<br>2. 默认参数</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token operator">=</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"函数_文档字符串"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>       function_suite</pre></td></tr><tr><td data-num="4"></td><td><pre>       <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><p>arg2 = v - 默认参数 = 默认值，调用函数时，默认参数的值如果没有传入，则被认为是默认值。<br>默认参数一定要放在位置参数 后面，不然程序会报错。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Name:&#123;0&#125;,Age:&#123;1&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token string">'小马'</span><span class="token punctuation">)</span>  <span class="token comment"># Name: 小马，Age:8</span></pre></td></tr><tr><td data-num="6"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token string">'小马'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># Name: 小马，Age:10</span></pre></td></tr></table></figure><p>Name: 小马，Age:8<br>Name: 小马，Age:10<br>Python 允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Name:&#123;0&#125;,Age:&#123;1&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>printinfo<span class="token punctuation">(</span>age<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'小马'</span><span class="token punctuation">)</span>  <span class="token comment"># Name: 小马，Age:8</span></pre></td></tr></table></figure><p>Name: 小马，Age:8<br>3. 可变参数</p><p>顾名思义，可变参数就是传入的参数个数是可变的，可以是 0, 1, 2 到任意个，是不定长的参数。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token operator">=</span>v<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"函数_文档字符串"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>       function_suite</pre></td></tr><tr><td data-num="4"></td><td><pre>       <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><p><em>args - 可变参数，可以是从零个到任意个，自动组装成元组。<br>加了星号（</em>）的变量名会存放所有未命名的变量参数。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">for</span> var <span class="token keyword">in</span> args<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># 10</span></pre></td></tr><tr><td data-num="8"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h1 id="70"><a class="anchor" href="#70">#</a> 70</h1><h1 id="60"><a class="anchor" href="#60">#</a> 60</h1><h1 id="50"><a class="anchor" href="#50">#</a> 50</h1><p>10<br>70<br>60<br>50<br>4. 关键字参数</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token operator">=</span>v<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token operator">*</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"函数_文档字符串"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>       function_suite</pre></td></tr><tr><td data-num="4"></td><td><pre>       <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><p>**kw - 关键字参数，可以是从零个到任意个，自动组装成字典。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 70</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># (60, 50)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># &#123;&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># 70</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># (60, 50)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># &#123;'a': 1, 'b': 2&#125;</span></pre></td></tr></table></figure><p>70<br>(60, 50)<br>{}<br>70<br>(60, 50)<br>{'a': 1, 'b': 2}<br>「可变参数」和「关键字参数」的同异总结如下：</p><p>可变参数允许传入零个到任意个参数，它们在函数调用时自动组装为一个元组 (tuple)。<br>关键字参数允许传入零个到任意个参数，它们在函数内部自动组装为一个字典 (dict)。<br>5. 命名关键字参数</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token operator">=</span>v<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> nkw<span class="token punctuation">,</span> <span class="token operator">*</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>       <span class="token string">"函数_文档字符串"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>       function_suite</pre></td></tr><tr><td data-num="4"></td><td><pre>       <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><p>*, nkw - 命名关键字参数，用户想要输入的关键字参数，定义方式是在 nkw 前面加个分隔符 *。<br>如果要限制关键字参数的名字，就可以用「命名关键字参数」<br>使用命名关键字参数时，要特别注意不能缺少参数名。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> nkw<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>nkw<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> nkw<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment"># 70</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 10</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># &#123;'a': 1, 'b': 2&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>printinfo<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># TypeError: printinfo() takes 1 positional argument but 2 were given</span></pre></td></tr></table></figure><p>70<br>10<br>{'a': 1, 'b': 2}<br>没有写参数名 nwk，因此 10 被当成「位置参数」，而原函数只有 1 个位置函数，现在调用了 2 个，因此程序会报错。<br>6. 参数组合</p><p>在 Python 中定义函数，可以用位置参数、默认参数、可变参数、命名关键字参数和关键字参数，这 5 种参数中的 4 个都可以一起使用，但是注意，参数定义的顺序必须是：</p><p>位置参数、默认参数、可变参数和关键字参数。<br>位置参数、默认参数、命名关键字参数和关键字参数。<br>要注意定义可变参数和关键字参数的语法：</p><p>*args 是可变参数，args 接收的是一个 tuple<br>**kw 是关键字参数，kw 接收的是一个 dict<br>命名关键字参数是为了限制调用者可以传入的参数名，同时可以提供默认值。定义命名关键字参数不要忘了写分隔符 *，否则定义的是位置参数。</p><p>警告：虽然可以组合多达 5 种参数，但不要同时使用太多的组合，否则函数很难懂。</p><p>函数的返回值<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 2, 3, 4, 5, 6]</span></pre></td></tr></table></figure><p>3<br>[1, 2, 3, 4, 5, 6]<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, ' 小马的程序人生 ', 3.14]</span></pre></td></tr></table></figure><p>[1, ' 小马的程序人生 ', 3.14]<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">3.14</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># (1, ' 小马的程序人生 ', 3.14)</span></pre></td></tr></table></figure><p>(1, ' 小马的程序人生 ', 3.14)<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>temp <span class="token operator">=</span> printme<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment"># hello</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span> <span class="token comment"># None</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'NoneType'></span></pre></td></tr></table></figure><p>hello<br>None<br>&lt;class 'NoneType'&gt;<br>变量作用域<br>Python 中，程序的变量并不是在哪个位置都可以访问的，访问权限决定于这个变量是在哪里赋值的。<br>定义在函数内部的变量拥有局部作用域，该变量称为局部变量。<br>定义在函数外部的变量拥有全局作用域，该变量称为全局变量。<br>局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">discounts</span><span class="token punctuation">(</span>price<span class="token punctuation">,</span> rate<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    final_price <span class="token operator">=</span> price <span class="token operator">*</span> rate</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> final_price</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>old_price <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'请输入原价:'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 98</span></pre></td></tr><tr><td data-num="7"></td><td><pre>rate <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'请输入折扣率:'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 0.9</span></pre></td></tr><tr><td data-num="8"></td><td><pre>new_price <span class="token operator">=</span> discounts<span class="token punctuation">(</span>old_price<span class="token punctuation">,</span> rate<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'打折后价格是:%.2f'</span> <span class="token operator">%</span> new_price<span class="token punctuation">)</span>  <span class="token comment"># 88.20</span></pre></td></tr></table></figure><p>请输入原价：98<br>请输入折扣率：0.9<br>打折后价格是：88.20<br>当内部作用域想修改外部作用域的变量时，就要用到 global 和 nonlocal 关键字了。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>num <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">global</span> num  <span class="token comment"># 需要使用 global 关键字声明</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    num <span class="token operator">=</span> <span class="token number">123</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 123</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>fun1<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 123</span></pre></td></tr></table></figure><p>1<br>123<br>123<br>内嵌函数</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'outer函数在这被调用'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'inner函数在这被调用'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 该函数只能在 outer 函数内部被调用</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>outer<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># outer 函数在这被调用</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># inner 函数在这被调用</span></pre></td></tr></table></figure><p>outer 函数在这被调用<br>inner 函数在这被调用<br>闭包</p><p>是函数式编程的一个重要的语法结构，是一种特殊的内嵌函数。<br>如果在一个内部函数里对外层非全局作用域的变量进行引用，那么内部函数就被认为是闭包。<br>通过闭包可以访问外层非全局作用域的变量，这个作用域称为 闭包作用域。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">funX</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">funY</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> x <span class="token operator">*</span> y</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> funY</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>i <span class="token operator">=</span> funX<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'function'></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 40</span></pre></td></tr></table></figure><p>&lt;class 'function'&gt;<br>40<br>【例子】闭包的返回值通常是函数。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">make_counter</span><span class="token punctuation">(</span>init<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    counter <span class="token operator">=</span> <span class="token punctuation">[</span>init<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> counter<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> init</pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">return</span> inc<span class="token punctuation">,</span> dec<span class="token punctuation">,</span> get<span class="token punctuation">,</span> reset</pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>inc<span class="token punctuation">,</span> dec<span class="token punctuation">,</span> get<span class="token punctuation">,</span> reset <span class="token operator">=</span> make_counter<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>inc<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>inc<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>inc<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="20"></td><td><pre>dec<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="22"></td><td><pre>reset<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 0</span></pre></td></tr></table></figure><p>3<br>2<br>0<br>【例子】 如果要修改闭包作用域中的变量则需要 nonlocal 关键字</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    num <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">nonlocal</span> num  <span class="token comment"># nonlocal 关键字声明</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        num <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    inner<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>outer<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># 100</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 100</span></pre></td></tr></table></figure><p>100<br>100<br>递归</p><p>如果一个函数在内部调用自身本身，这个函数就是递归函数。<br>【例子】n! = 1 x 2 x 3 x ... x n</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 利用循环</span></pre></td></tr><tr><td data-num="2"></td><td><pre>n <span class="token operator">=</span> <span class="token number">5</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    n <span class="token operator">=</span> n <span class="token operator">*</span> k</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  <span class="token comment"># 120</span></pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># 利用递归</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">def</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">return</span> n <span class="token operator">*</span> factorial<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 120</span></pre></td></tr></table></figure><p>120<br>120<br>【例子】斐波那契数列 f (n)=f (n-1)+f (n-2), f (0)=0 f (1)=1</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 利用循环</span></pre></td></tr><tr><td data-num="2"></td><td><pre>i <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>j <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>lst <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    k <span class="token operator">=</span> i <span class="token operator">+</span> j</pre></td></tr><tr><td data-num="7"></td><td><pre>    lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    i <span class="token operator">=</span> j</pre></td></tr><tr><td data-num="9"></td><td><pre>    j <span class="token operator">=</span> k</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 利用递归</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">def</span> <span class="token function">recur_fibo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">return</span> n</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">return</span> recur_fibo<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> recur_fibo<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>lst <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span>recur_fibo<span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span></pre></td></tr></table></figure><p>[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]<br>[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]<br>【例子】设置递归的层数，Python 默认递归层数为 100</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> sys</pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre>sys<span class="token punctuation">.</span>setrecursionlimit<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>Lambda 表达式<br>匿名函数的定义<br>在 Python 里有两类函数：</p><p>第一类：用 def 关键词定义的正规函数<br>第二类：用 lambda 关键词定义的匿名函数<br>Python 使用 lambda 关键词来创建匿名函数，而非 def 关键词，它没有函数名，其语法结构如下：</p><p>lambda argument_list: expression</p><p>lambda - 定义匿名函数的关键词。<br>argument_list - 函数参数，它们可以是位置参数、默认参数、关键字参数，和正规函数里的参数类型一样。<br>:- 冒号，在函数参数和表达式中间要加个冒号。<br>expression - 只是一个表达式，输入函数参数，输出一些值。<br>注意：</p><p>expression 中没有 return 语句，因为 lambda 不需要它来返回，表达式本身结果就是返回值。<br>匿名函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">sqr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">**</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>sqr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># &lt;function sqr at 0x000000BABD3A4400></span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>y <span class="token operator">=</span> <span class="token punctuation">[</span>sqr<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>lbd_sqr <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>lbd_sqr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># &lt;function &lt;lambda> at 0x000000BABB6AC1E0></span></pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>y <span class="token operator">=</span> <span class="token punctuation">[</span>lbd_sqr<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre>sumary <span class="token operator">=</span> <span class="token keyword">lambda</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">:</span> arg1 <span class="token operator">+</span> arg2</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>sumary<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 30</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre>func <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token operator">*</span>args<span class="token punctuation">:</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>func<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 15</span></pre></td></tr></table></figure><p>&lt;function sqr at 0x00000220081D9E18&gt;<br>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br>&lt;function &lt;lambda&gt; at 0x00000220081FF400&gt;<br>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]<br>30<br>15<br>匿名函数的应用<br>函数式编程 是指代码中每一块都是不可变的，都由纯函数的形式组成。这里的纯函数，是指函数本身相互独立、互不影响，对于相同的输入，总会有相同的输出，没有任何副作用。</p><p>【例子】非函数式编程</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">return</span> x</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="8"></td><td><pre>f<span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># [11, 12, 13]</span></pre></td></tr></table></figure><p>[11, 12, 13]<br>【例子】函数式编程</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">for</span> item <span class="token keyword">in</span> x<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> y</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="9"></td><td><pre>f<span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># [1, 2, 3]</span></pre></td></tr></table></figure><p>[1, 2, 3]<br>匿名函数 常常应用于函数式编程的高阶函数 (high-order function) 中，主要有两种形式：</p><p>参数是函数 (filter, map)<br>返回值是函数 (closure)<br>如，在 filter 和 map 函数中的应用：</p><p>filter (function, iterable) 过滤序列，过滤掉不符合条件的元素，返回一个迭代器对象，如果要转换为列表，可以使用 list () 来转换。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>odd <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>templist <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>odd<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>templist<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 3, 5, 7, 9]</span></pre></td></tr></table></figure><p>[1, 3, 5, 7, 9]<br>map (function, *iterables) 根据提供的函数对指定序列做映射。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>m1 <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># [1, 4, 9, 16, 25]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>m2 <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment"># [3, 7, 11, 15, 19]</span></pre></td></tr></table></figure><p>[1, 4, 9, 16, 25]<br>[3, 7, 11, 15, 19]<br>除了 Python 这些内置函数，我们也可以自己定义高阶函数。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">apply_to_list</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> some_list<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> fun<span class="token punctuation">(</span>some_list<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment"># 15</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># 5</span></pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>apply_to_list<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># 3.0</span></pre></td></tr></table></figure><p>15<br>5<br>3.0<br>类与对象<br>对象 = 属性 + 方法<br>对象是类的实例。换句话说，类主要定义对象的结构，然后我们以类为模板创建对象。类不但包含方法定义，而且还包含所有实例共享的数据。</p><p>封装：信息隐蔽技术<br>我们可以使用关键字 class 定义 Python 类，关键字后面紧跟类的名称、分号和类的实现。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Turtle</span><span class="token punctuation">:</span>  <span class="token comment"># Python 中的类名约定以大写字母开头</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token triple-quoted-string string">"""关于类的一个简单例子"""</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment"># 属性</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    color <span class="token operator">=</span> <span class="token string">'green'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    weight <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    legs <span class="token operator">=</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    shell <span class="token operator">=</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    mouth <span class="token operator">=</span> <span class="token string">'大嘴'</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment"># 方法</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">climb</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我正在很努力的向前爬...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我正在飞快的向前跑...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">bite</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'咬死你咬死你!!'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'有得吃，真满足...'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">sleep</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'困了，睡了，晚安，zzz'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>​</pre></td></tr><tr><td data-num="26"></td><td><pre>​</pre></td></tr><tr><td data-num="27"></td><td><pre>tt <span class="token operator">=</span> Turtle<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment"># &lt;__main__.Turtle object at 0x0000007C32D67F98></span></pre></td></tr><tr><td data-num="30"></td><td><pre>​</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment"># &lt;class '__main__.Turtle'></span></pre></td></tr><tr><td data-num="33"></td><td><pre>​</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment"># &lt;class '__main__.Turtle'></span></pre></td></tr><tr><td data-num="36"></td><td><pre>​</pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span>__class__<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment"># Turtle</span></pre></td></tr><tr><td data-num="39"></td><td><pre>​</pre></td></tr><tr><td data-num="40"></td><td><pre>tt<span class="token punctuation">.</span>climb<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment"># 我正在很努力的向前爬...</span></pre></td></tr><tr><td data-num="42"></td><td><pre>​</pre></td></tr><tr><td data-num="43"></td><td><pre>tt<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment"># 我正在飞快的向前跑...</span></pre></td></tr><tr><td data-num="45"></td><td><pre>​</pre></td></tr><tr><td data-num="46"></td><td><pre>tt<span class="token punctuation">.</span>bite<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment"># 咬死你咬死你！！</span></pre></td></tr><tr><td data-num="48"></td><td><pre>​</pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token comment"># Python 类也是对象。它们是 type 的实例</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Turtle<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token comment"># &lt;class 'type'></span></pre></td></tr></table></figure><p>&lt;<strong>main</strong>.Turtle object at 0x000002200820E898&gt;<br>&lt;class '<strong>main</strong>.Turtle'&gt;<br>&lt;class '<strong>main</strong>.Turtle'&gt;<br>Turtle<br>我正在很努力的向前爬...<br>我正在飞快的向前跑...<br>咬死你咬死你！！<br>&lt;class 'type'&gt;<br>继承：子类自动共享父类之间数据和方法的机制<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyList</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>lst <span class="token operator">=</span> MyList<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>lst<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># [1, 2, 5, 7, 8, 9]</span></pre></td></tr></table></figure><p>[1, 2, 5, 7, 8, 9]<br>多态：不同对象对同一方法响应不同的行动<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">'子类必须实现这个方法'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'人正在走'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Pig</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'pig is walking'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'dog is running'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    animal<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre>​</pre></td></tr><tr><td data-num="25"></td><td><pre>func<span class="token punctuation">(</span>Pig<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># pig is walking</span></pre></td></tr></table></figure><p>pig is walking<br>self 是什么？<br>Python 的 self 相当于 C++ 的 this 指针。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">prt</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>t <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>t<span class="token punctuation">.</span>prt<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># &lt;__main__.Test object at 0x000000BC5A351208></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># &lt;class '__main__.Test'></span></pre></td></tr></table></figure><p>&lt;<strong>main</strong>.Test object at 0x000002200820EA20&gt;<br>&lt;class '<strong>main</strong>.Test'&gt;<br>类的方法与普通的函数只有一个特别的区别 —— 它们必须有一个额外的第一个参数名称（对应于该实例，即该对象本身），按照惯例它的名称是 self。在调用方法时，我们无需明确提供与参数 self 相对应的参数。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Ball</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">setName</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">kick</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫%s,该死的，谁踢我..."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>a <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>a<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球A"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>b <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>b<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球B"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>c <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>c<span class="token punctuation">.</span>setName<span class="token punctuation">(</span><span class="token string">"球C"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>a<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 我叫球 A, 该死的，谁踢我...</span></pre></td></tr><tr><td data-num="17"></td><td><pre>b<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># 我叫球 B, 该死的，谁踢我...</span></pre></td></tr></table></figure><p>我叫球 A, 该死的，谁踢我...<br>我叫球 B, 该死的，谁踢我...<br>Python 的魔法方法<br>据说，Python 的对象天生拥有一些神奇的方法，它们是面向对象的 Python 的一切...</p><p>它们是可以给你的类增加魔力的特殊方法...</p><p>如果你的对象实现了这些方法中的某一个，那么这个方法就会在特殊的情况下被 Python 所调用，而这一切都是自动发生的...</p><p>类有一个名为__init__(self [, param1, param2...]) 的魔法方法，该方法在类实例化时会自动调用。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>​</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Ball</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">kick</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫%s,该死的，谁踢我..."</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>a <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球A"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>b <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球B"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>c <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token string">"球C"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>a<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># 我叫球 A, 该死的，谁踢我...</span></pre></td></tr><tr><td data-num="15"></td><td><pre>b<span class="token punctuation">.</span>kick<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># 我叫球 B, 该死的，谁踢我...</span></pre></td></tr></table></figure><p>我叫球 A, 该死的，谁踢我...<br>我叫球 B, 该死的，谁踢我...<br>公有和私有<br>在 Python 中定义私有变量只需要在变量名或函数名前加上 “__” 两个下划线，那么这个函数或变量就会为私有的了。</p><p>【例子】类的私有属性实例</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">JustCounter</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    __secretCount <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 私有变量</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    publicCount <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 公开变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        self<span class="token punctuation">.</span>__secretCount <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        self<span class="token punctuation">.</span>publicCount <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>counter <span class="token operator">=</span> JustCounter<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="13"></td><td><pre>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>publicCount<span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># Python 的私有为伪私有</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>_JustCounter__secretCount<span class="token punctuation">)</span>  <span class="token comment"># 2 </span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># AttributeError: 'JustCounter' object has no attribute '__secretCount'</span></pre></td></tr></table></figure><p>1<br>2<br>2<br>2<br>【例子】类的私有方法实例</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Site</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token comment"># public</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>__url <span class="token operator">=</span> url  <span class="token comment"># private</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name  : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'url : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__url<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 私有方法</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是私有方法'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 公共方法</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是公共方法'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        self<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>​</pre></td></tr><tr><td data-num="18"></td><td><pre>x <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'老马的程序人生'</span><span class="token punctuation">,</span> <span class="token string">'https://blog.csdn.net/LSGO_MYP'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>x<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># name  :  老马的程序人生</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># url :  https://blog.csdn.net/LSGO_MYP</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>x<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># 这是公共方法</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># 这是私有方法</span></pre></td></tr><tr><td data-num="26"></td><td><pre>​</pre></td></tr><tr><td data-num="27"></td><td><pre>x<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment"># AttributeError: 'Site' object has no attribute '__foo'</span></pre></td></tr></table></figure><p>name : 老马的程序人生<br>url : <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xTR09fTVlQ">https://blog.csdn.net/LSGO_MYP</span><br>这是公共方法<br>这是私有方法<br>继承<br>Python 同样支持类的继承，派生类的定义如下所示：</p><p>class DerivedClassName(BaseClassName):<br>statement-1<br>.<br>.<br>.<br>statement-N</p><p>BaseClassName（基类名）必须与派生类定义在一个作用域内。除了类，还可以用表达式，基类定义在另一个模块中时这一点非常有用：</p><p>class DerivedClassName(modname.BaseClassName):<br>statement-1<br>.<br>.<br>.<br>statement-N</p><p>【例子】如果子类中定义与父类同名的方法或属性，则会自动覆盖父类对应的方法或属性。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 类定义</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">people</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment"># 定义基本属性</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    name <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    age <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment"># 定义私有属性，私有属性在类外部无法直接进行访问</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    __weight <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment"># 定义构造方法</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n</pre></td></tr><tr><td data-num="12"></td><td><pre>        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w</pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁。"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>​</pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 单继承示例</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    grade <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token comment"># 调用父类的构函</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        people<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g</pre></td></tr><tr><td data-num="27"></td><td><pre>​</pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token comment"># 覆写父类的方法</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁了，我在读 %d 年级"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>​</pre></td></tr><tr><td data-num="32"></td><td><pre>​</pre></td></tr><tr><td data-num="33"></td><td><pre>s <span class="token operator">=</span> student<span class="token punctuation">(</span><span class="token string">'小马的程序人生'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>s<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment"># 小马的程序人生 说：我 10 岁了，我在读 3 年级</span></pre></td></tr></table></figure><p>小马的程序人生 说：我 10 岁了，我在读 3 年级<br>注意：如果上面的程序去掉：people.<strong>init</strong> (self, n, a, w)，则输出：说：我 0 岁了，我在读 3 年级，因为子类的构造方法把父类的构造方法覆盖了。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> random</pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fish</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        self<span class="token punctuation">.</span>x <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        self<span class="token punctuation">.</span>y <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我的位置"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">GoldFish</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 金鱼</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Carp</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 鲤鱼</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Salmon</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 三文鱼</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre>​</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Shark</span><span class="token punctuation">(</span>Fish<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 鲨鱼</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="28"></td><td><pre>​</pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>hungry<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="31"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"吃货的梦想就是天天有得吃！"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">False</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="34"></td><td><pre>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"太撑了，吃不下了！"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            self<span class="token punctuation">.</span>hungry <span class="token operator">=</span> <span class="token boolean">True</span></pre></td></tr><tr><td data-num="36"></td><td><pre>​</pre></td></tr><tr><td data-num="37"></td><td><pre>​</pre></td></tr><tr><td data-num="38"></td><td><pre>g <span class="token operator">=</span> GoldFish<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>g<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 我的位置 9 4</span></pre></td></tr><tr><td data-num="40"></td><td><pre>s <span class="token operator">=</span> Shark<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>s<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 吃货的梦想就是天天有得吃！</span></pre></td></tr><tr><td data-num="42"></td><td><pre>s<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment"># AttributeError: 'Shark' object has no attribute 'x'</span></pre></td></tr></table></figure><p>我的位置 3 8<br>吃货的梦想就是天天有得吃！<br>解决该问题可用以下两种方式：</p><p>调用未绑定的父类方法 Fish.<strong>init</strong>(self)<br>class Shark (Fish): # 鲨鱼<br>def <strong>init</strong>(self):<br>Fish.<strong>init</strong>(self)<br>self.hungry = True<br>​<br>def eat(self):<br>if self.hungry:<br>print (&quot;吃货的梦想就是天天有得吃！&quot;)<br>self.hungry = False<br>else:<br>print (&quot;太撑了，吃不下了！&quot;)<br>self.hungry = True<br>使用 super 函数 super ().<strong>init</strong>()<br>class Shark (Fish): # 鲨鱼<br>def <strong>init</strong>(self):<br>super().<strong>init</strong>()<br>self.hungry = True<br>​<br>def eat(self):<br>if self.hungry:<br>print (&quot;吃货的梦想就是天天有得吃！&quot;)<br>self.hungry = False<br>else:<br>print (&quot;太撑了，吃不下了！&quot;)<br>self.hungry = True<br>Python 虽然支持多继承的形式，但我们一般不使用多继承，因为容易引起混乱。</p><p>class DerivedClassName(Base1, Base2, Base3):<br>statement-1<br>.<br>.<br>.<br>statement-N</p><p>需要注意圆括号中父类的顺序，若是父类中有相同的方法名，而在子类使用时未指定，Python 从左至右搜索，即方法在子类中未找到时，从左到右查找父类中是否包含方法。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 类定义</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token comment"># 定义基本属性</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    name <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    age <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment"># 定义私有属性，私有属性在类外部无法直接进行访问</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    __weight <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment"># 定义构造方法</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n</pre></td></tr><tr><td data-num="12"></td><td><pre>        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w</pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁。"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>​</pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 单继承示例</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    grade <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token comment"># 调用父类的构函</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        People<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g</pre></td></tr><tr><td data-num="27"></td><td><pre>​</pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token comment"># 覆写父类的方法</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s 说: 我 %d 岁了，我在读 %d 年级"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>​</pre></td></tr><tr><td data-num="32"></td><td><pre>​</pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment"># 另一个类，多重继承之前的准备</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Speaker</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    topic <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    name <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="37"></td><td><pre>​</pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n</pre></td></tr><tr><td data-num="40"></td><td><pre>        self<span class="token punctuation">.</span>topic <span class="token operator">=</span> t</pre></td></tr><tr><td data-num="41"></td><td><pre>​</pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"我叫 %s，我是一个演说家，我演讲的主题是 %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>topic<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>​</pre></td></tr><tr><td data-num="45"></td><td><pre>​</pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment"># 多重继承</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Sample01</span><span class="token punctuation">(</span>Speaker<span class="token punctuation">,</span> Student<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    a <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="49"></td><td><pre>​</pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        Student<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="52"></td><td><pre>        Speaker<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="53"></td><td><pre>​</pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token comment"># 方法名同，默认调用的是在括号中排前地父类的方法</span></pre></td></tr><tr><td data-num="55"></td><td><pre>test <span class="token operator">=</span> Sample01<span class="token punctuation">(</span><span class="token string">"Tim"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="56"></td><td><pre>test<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token comment"># 我叫 Tim，我是一个演说家，我演讲的主题是 Python</span></pre></td></tr><tr><td data-num="58"></td><td><pre>​</pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Sample02</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> Speaker<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    a <span class="token operator">=</span> <span class="token string">''</span></pre></td></tr><tr><td data-num="61"></td><td><pre>​</pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="63"></td><td><pre>        Student<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> w<span class="token punctuation">,</span> g<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="64"></td><td><pre>        Speaker<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> t<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="65"></td><td><pre>​</pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token comment"># 方法名同，默认调用的是在括号中排前地父类的方法</span></pre></td></tr><tr><td data-num="67"></td><td><pre>test <span class="token operator">=</span> Sample02<span class="token punctuation">(</span><span class="token string">"Tim"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="68"></td><td><pre>test<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token comment"># Tim 说：我 25 岁了，我在读 4 年级</span></pre></td></tr></table></figure><p>我叫 Tim，我是一个演说家，我演讲的主题是 Python<br>Tim 说：我 25 岁了，我在读 4 年级<br>组合<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Turtle</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>num <span class="token operator">=</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fish</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        self<span class="token punctuation">.</span>num <span class="token operator">=</span> x</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Pool</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        self<span class="token punctuation">.</span>turtle <span class="token operator">=</span> Turtle<span class="token punctuation">(</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        self<span class="token punctuation">.</span>fish <span class="token operator">=</span> Fish<span class="token punctuation">(</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">print_num</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"水池里面有乌龟%s只，小鱼%s条"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>turtle<span class="token punctuation">.</span>num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>fish<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>p <span class="token operator">=</span> Pool<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>p<span class="token punctuation">.</span>print_num<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># 水池里面有乌龟 2 只，小鱼 3 条</span></pre></td></tr></table></figure><p>水池里面有乌龟 2 只，小鱼 3 条<br>类、类对象和实例对象<br>类对象和实例对象</p><p>类对象：创建一个类，其实也是一个对象也在内存开辟了一块空间，称为类对象，类对象只有一个。</p><p>class A(object):<br>pass</p><p>实例对象：就是通过实例化类创建的对象，称为实例对象，实例对象可以有多个。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 实例化对象 a、b、c 都属于实例对象</span></pre></td></tr><tr><td data-num="5"></td><td><pre>。</pre></td></tr><tr><td data-num="6"></td><td><pre>a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>b <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>c <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>类属性：类里面方法外面定义的变量称为类属性。类属性所属于类对象并且多个实例对象之间共享同一个类属性，说白了就是类属性所有的通过该类实例化的对象都能共享。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    a <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment">#类属性</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> xx<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        A<span class="token punctuation">.</span>a <span class="token operator">=</span> xx  <span class="token comment">#使用类属性可以通过 （类名。类属性）调用。</span></pre></td></tr></table></figure><p>实例属性：实例属性和具体的某个实例对象有关系，并且一个实例对象和另外一个实例对象是不共享属性的，说白了实例属性只能在自己的对象里面使用，其他的对象不能直接使用，因为 self 是谁调用，它的值就属于该对象。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 创建类对象</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    class_attr <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment"># 类属性</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        self<span class="token punctuation">.</span>sl_attr <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment"># 实例属性</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'类对象.类属性的值:'</span><span class="token punctuation">,</span> Test<span class="token punctuation">.</span>class_attr<span class="token punctuation">)</span>  <span class="token comment"># 调用类属性</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'self.类属性的值'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>class_attr<span class="token punctuation">)</span>  <span class="token comment"># 相当于把类属性 变成实例属性</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'self.实例属性的值'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>sl_attr<span class="token punctuation">)</span>  <span class="token comment"># 调用实例属性</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre>a <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment"># 类对象。类属性的值: 100</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># self. 类属性的值 100</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># self. 实例属性的值 100</span></pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre>b <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># 类对象。类属性的值: 100</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># self. 类属性的值 100</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># self. 实例属性的值 100</span></pre></td></tr><tr><td data-num="27"></td><td><pre>​</pre></td></tr><tr><td data-num="28"></td><td><pre>a<span class="token punctuation">.</span>class_attr <span class="token operator">=</span> <span class="token number">200</span></pre></td></tr><tr><td data-num="29"></td><td><pre>a<span class="token punctuation">.</span>sl_attr <span class="token operator">=</span> <span class="token number">200</span></pre></td></tr><tr><td data-num="30"></td><td><pre>a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>​</pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment"># 类对象。类属性的值: 100</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment"># self. 类属性的值 200</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment"># self. 实例属性的值 200</span></pre></td></tr><tr><td data-num="35"></td><td><pre>​</pre></td></tr><tr><td data-num="36"></td><td><pre>b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>​</pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment"># 类对象。类属性的值: 100</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment"># self. 类属性的值 100</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment"># self. 实例属性的值 100</span></pre></td></tr><tr><td data-num="41"></td><td><pre>​</pre></td></tr><tr><td data-num="42"></td><td><pre>Test<span class="token punctuation">.</span>class_attr <span class="token operator">=</span> <span class="token number">300</span></pre></td></tr><tr><td data-num="43"></td><td><pre>a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="44"></td><td><pre>​</pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment"># 类对象。类属性的值: 300</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment"># self. 类属性的值 200</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment"># self. 实例属性的值 200</span></pre></td></tr><tr><td data-num="48"></td><td><pre>​</pre></td></tr><tr><td data-num="49"></td><td><pre>b<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token comment"># 类对象。类属性的值: 300</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token comment"># self. 类属性的值 300</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment"># self. 实例属性的值 100</span></pre></td></tr></table></figure><p>类对象。类属性的值: 100<br>self. 类属性的值 100<br>self. 实例属性的值 100<br>类对象。类属性的值: 100<br>self. 类属性的值 100<br>self. 实例属性的值 100<br>类对象。类属性的值: 100<br>self. 类属性的值 200<br>self. 实例属性的值 200<br>类对象。类属性的值: 100<br>self. 类属性的值 100<br>self. 实例属性的值 100<br>类对象。类属性的值: 300<br>self. 类属性的值 200<br>self. 实例属性的值 200<br>类对象。类属性的值: 300<br>self. 类属性的值 300<br>self. 实例属性的值 100<br>注意：属性与方法名相同，属性会覆盖方法。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x_man'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>aa <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>aa<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># x_man</span></pre></td></tr><tr><td data-num="8"></td><td><pre>aa<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="10"></td><td><pre>aa<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># TypeError: 'int' object is not callable</span></pre></td></tr></table></figure><p>x_man<br>1<br>什么是绑定？<br>Python 严格要求方法需要有实例才能被调用，这种限制其实就是 Python 所谓的绑定概念。</p><p>Python 对象的数据属性通常存储在名为.__ dict__的字典中，我们可以直接访问__dict__，或利用 Python 的内置函数 vars () 获取.__ dict__。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">CC</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">setXY</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">printXY</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>dd <span class="token operator">=</span> CC<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>dd<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># &#123;&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">vars</span><span class="token punctuation">(</span>dd<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment"># &#123;&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>CC<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># &#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000C3473DA048>, 'printXY': &lt;function CC.printXY at 0x000000C3473C4F28>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>dd<span class="token punctuation">.</span>setXY<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>dd<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment"># &#123;'x': 4, 'y': 5&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">vars</span><span class="token punctuation">(</span>CC<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># &#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000632CA9B048>, 'printXY': &lt;function CC.printXY at 0x000000632CA83048>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>​</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>CC<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment"># &#123;'__module__': '__main__', 'setXY': &lt;function CC.setXY at 0x000000632CA9B048>, 'printXY': &lt;function CC.printXY at 0x000000632CA83048>, '__dict__': &lt;attribute '__dict__' of 'CC' objects>, '__weakref__': &lt;attribute '__weakref__' of 'CC' objects>, '__doc__': None&#125;</span></pre></td></tr></table></figure><p>{}<br>{}<br>{'<strong>module</strong>': '<strong>main</strong>', 'setXY': &lt;function CC.setXY at 0x000002200822BD08&gt;, 'printXY': &lt;function CC.printXY at 0x000002200822BF28&gt;, '<strong>dict</strong>': &lt;attribute '<strong>dict</strong>' of 'CC' objects&gt;, '<strong>weakref</strong>': &lt;attribute '<strong>weakref</strong>' of 'CC' objects&gt;, '<strong>doc</strong>': None}<br>{'x': 4, 'y': 5}<br>{'<strong>module</strong>': '<strong>main</strong>', 'setXY': &lt;function CC.setXY at 0x000002200822BD08&gt;, 'printXY': &lt;function CC.printXY at 0x000002200822BF28&gt;, '<strong>dict</strong>': &lt;attribute '<strong>dict</strong>' of 'CC' objects&gt;, '<strong>weakref</strong>': &lt;attribute '<strong>weakref</strong>' of 'CC' objects&gt;, '<strong>doc</strong>': None}<br>{'<strong>module</strong>': '<strong>main</strong>', 'setXY': &lt;function CC.setXY at 0x000002200822BD08&gt;, 'printXY': &lt;function CC.printXY at 0x000002200822BF28&gt;, '<strong>dict</strong>': &lt;attribute '<strong>dict</strong>' of 'CC' objects&gt;, '<strong>weakref</strong>': &lt;attribute '<strong>weakref</strong>' of 'CC' objects&gt;, '<strong>doc</strong>': None}<br>一些相关的内置函数（BIF）<br>issubclass (class, classinfo) 方法用于判断参数 class 是否是类型参数 classinfo 的子类。<br>一个类被认为是其自身的子类。<br>classinfo 可以是类对象的元组，只要 class 是其中任何一个候选类的子类，则返回 True。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> <span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr></table></figure><p>True<br>True<br>False<br>True<br>isinstance (object, classinfo) 方法用于判断一个对象是否是一个已知的类型，类似 type ()。<br>type () 不会认为子类是一种父类类型，不考虑继承关系。<br>isinstance () 会认为子类是一种父类类型，考虑继承关系。<br>如果第一个参数不是对象，则永远返回 False。<br>如果第二个参数不是类或者由类对象组成的元组，会抛出一个 TypeError 异常。<br>【例子】</p><p>a = 2<br>print(isinstance(a, int)) # True<br>print(isinstance(a, str)) # False<br>print(isinstance(a, (str, int, list))) # True<br>​<br>​<br>class A:<br>pass<br>​<br>​<br>class B(A):<br>pass<br>​<br>​<br>print(isinstance(A(), A)) # True<br>print(type(A()) == A) # True<br>print(isinstance(B(), A)) # True<br>print(type(B()) == A) # False<br>True<br>False<br>True<br>True<br>True<br>True<br>False<br>hasattr (object, name) 用于判断对象是否包含对应的属性。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Coordinate</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    x <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    z <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>point1 <span class="token operator">=</span> Coordinate<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># True</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> <span class="token string">'no'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># False</span></pre></td></tr></table></figure><p>True<br>True<br>True<br>False<br>getattr (object, name [, default]) 用于返回一个对象属性值。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    bar <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar2'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment"># AttributeError: 'A' object has no attribute 'bar2'</span></pre></td></tr></table></figure><p>1<br>3<br>【例子】这个例子很酷！</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        x <span class="token operator">=</span> a</pre></td></tr><tr><td data-num="4"></td><td><pre>        a <span class="token operator">=</span> b</pre></td></tr><tr><td data-num="5"></td><td><pre>        b <span class="token operator">=</span> x</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>c <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'set'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>c<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token string">'1'</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token comment"># 2 1</span></pre></td></tr></table></figure><p>​<br>2 1<br>setattr (object, name, value) 对应函数 getattr ()，用于设置属性值，该属性不一定是存在的。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    bar <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin">setattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>bar<span class="token punctuation">)</span>  <span class="token comment"># 5</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin">setattr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment"># 28</span></pre></td></tr></table></figure><p>1<br>5<br>28<br>delattr (object, name) 用于删除属性。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Coordinate</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    x <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    z <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>point1 <span class="token operator">=</span> Coordinate<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># x =  10</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'y = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment"># y =  -5</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'z = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>z<span class="token punctuation">)</span>  <span class="token comment"># z =  0</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token builtin">delattr</span><span class="token punctuation">(</span>Coordinate<span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'--删除 z 属性后--'</span><span class="token punctuation">)</span>  <span class="token comment"># -- 删除 z 属性后 --</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'x = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># x =  10</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'y = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>  <span class="token comment"># y =  -5</span></pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 触发错误</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'z = '</span><span class="token punctuation">,</span> point1<span class="token punctuation">.</span>z<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># AttributeError: 'Coordinate' object has no attribute 'z'</span></pre></td></tr></table></figure><p>x = 10<br>y = -5<br>z = 0<br>-- 删除 z 属性后 --<br>x = 10<br>y = -5<br>class property ([fget [, fset [, fdel [, doc]]]]) 用于在新式类中返回属性值。<br>fget -- 获取属性值的函数<br>fset -- 设置属性值的函数<br>fdel -- 删除属性值函数<br>doc -- 属性描述信息<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>__x <span class="token operator">=</span> <span class="token boolean">None</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">getx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__x</pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">setx</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        self<span class="token punctuation">.</span>__x <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">delx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">del</span> self<span class="token punctuation">.</span>__x</pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre>    x <span class="token operator">=</span> <span class="token builtin">property</span><span class="token punctuation">(</span>getx<span class="token punctuation">,</span> setx<span class="token punctuation">,</span> delx<span class="token punctuation">,</span> <span class="token string">"I'm the 'x' property."</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>cc <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>cc<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">del</span> cc<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span>x<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment"># AttributeError: 'C' object has no attribute '_C__x'</span></pre></td></tr></table></figure><p>2<br>魔法方法<br>魔法方法总是被双下划线包围，例如__init__。</p><p>魔法方法是面向对象的 Python 的一切，如果你不知道魔法方法，说明你还没能意识到面向对象的 Python 的强大。</p><p>魔法方法的 “魔力” 体现在它们总能够在适当的时候被自动调用。</p><p>魔法方法的第一个参数应为 cls（类方法） 或者 self（实例方法）。</p><p>cls：代表一个类的名称<br>self：代表一个实例对象的名称<br>基本的魔法方法<br><strong>init</strong> (self [, ...]) 构造器，当一个实例被创建的时候调用的初始化方法<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x</pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">getPeri</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">getArea</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">*</span> self<span class="token punctuation">.</span>y</pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>rect <span class="token operator">=</span> Rectangle<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>getPeri<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 18</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>getArea<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 20</span></pre></td></tr></table></figure><p>18<br>20<br><strong>new</strong> (cls [, ...]) 在一个对象实例化的时候所调用的第一个方法，在调用__init__初始化前，先调用__new__。<br><strong>new__至少要有一个参数 cls，代表要实例化的类，此参数在实例化时由 Python 解释器自动提供，后面的参数直接传递给__init</strong>。<br><strong>new__对当前类进行了实例化，并将实例返回，传给__init__的 self。但是，执行了__new</strong>，并不一定会进入__init__，只有__new__返回了，当前类 cls 的实例，当前类的__init__才会进入。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __init__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __new__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __init__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __new__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>​</pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>​</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment"># 结果：</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment"># into B __new__</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment"># &lt;class '__main__.B'></span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment"># into A __new__</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment"># &lt;class '__main__.B'></span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment"># into B __init__</span></pre></td></tr><tr><td data-num="31"></td><td><pre>​</pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __init__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="36"></td><td><pre>​</pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into A __new__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>​</pre></td></tr><tr><td data-num="42"></td><td><pre>​</pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="45"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __init__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="46"></td><td><pre>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="47"></td><td><pre>​</pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"into B __new__"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>A<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>  <span class="token comment"># 改动了 cls 变为 A</span></pre></td></tr><tr><td data-num="52"></td><td><pre>​</pre></td></tr><tr><td data-num="53"></td><td><pre>​</pre></td></tr><tr><td data-num="54"></td><td><pre>b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="55"></td><td><pre>​</pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment"># 结果：</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token comment"># into B __new__</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token comment"># &lt;class '__main__.B'></span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token comment"># into A __new__</span></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token comment"># &lt;class '__main__.A'></span></pre></td></tr></table></figure><p>into B <strong>new</strong><br>&lt;class '<strong>main</strong>.B'&gt;<br>into A <strong>new</strong><br>&lt;class '<strong>main</strong>.B'&gt;<br>into B <strong>init</strong><br>into B <strong>new</strong><br>&lt;class '<strong>main</strong>.B'&gt;<br>into A <strong>new</strong><br>&lt;class '<strong>main</strong>.A'&gt;<br>若__new__没有正确返回当前类 cls 的实例，那__init__是不会被调用的，即使是父类的实例也不行，将没有__init__被调用。<br>【例子】利用__new__实现单例模式。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Earth</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>a <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 260728291456</span></pre></td></tr><tr><td data-num="7"></td><td><pre>b <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 260728291624</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Earth</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    __instance <span class="token operator">=</span> <span class="token boolean">None</span>  <span class="token comment"># 定义一个类属性做判断</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>__instance <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance</pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">else</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>            <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance</pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre>a <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 512320401648</span></pre></td></tr><tr><td data-num="23"></td><td><pre>b <span class="token operator">=</span> Earth<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 512320401648</span></pre></td></tr></table></figure><p>2336598724336<br>2336598528464<br>2336598467752<br>2336598467752<br>__new__方法主要是当你继承一些不可变的 class 时（比如 int, str, tuple）， 提供给你一个自定义这些类的实例化过程的途径。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">CapStr</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        string <span class="token operator">=</span> string<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> string<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>a <span class="token operator">=</span> CapStr<span class="token punctuation">(</span><span class="token string">"i love lsgogroup"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment"># I LOVE LSGOGROUP</span></pre></td></tr></table></figure><p>I LOVE LSGOGROUP<br><strong>del</strong> (self) 析构器，当一个对象将要被系统回收之时调用的方法。<br>Python 采用自动引用计数（ARC）方式来回收对象所占用的空间，当程序中有一个变量引用该 Python 对象时，Python 会自动保证该对象引用计数为 1；当程序中有两个变量引用该 Python 对象时，Python 会自动保证该对象引用计数为 2，依此类推，如果一个对象的引用计数变成了 0，则说明程序中不再有变量引用该对象，表明程序不再需要该对象，因此 Python 就会回收该对象。</p><p>大部分时候，Python 的 ARC 都能准确、高效地回收系统中的每个对象。但如果系统中出现循环引用的情况，比如对象 a 持有一个实例变量引用对象 b，而对象 b 又持有一个实例变量引用对象 a，此时两个对象的引用计数都是 1，而实际上程序已经不再有变量引用它们，系统应该回收它们，此时 Python 的垃圾回收器就可能没那么快，要等专门的循环垃圾回收器（Cyclic Garbage Collector）来检测并回收这种引用循环。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'into C __init__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'into C __del__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>c1 <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment"># into C __init__</span></pre></td></tr><tr><td data-num="11"></td><td><pre>c2 <span class="token operator">=</span> c1</pre></td></tr><tr><td data-num="12"></td><td><pre>c3 <span class="token operator">=</span> c2</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">del</span> c3</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">del</span> c2</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">del</span> c1</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment"># into C __del__</span></pre></td></tr></table></figure><p>into C <strong>init</strong><br>into C <strong>del</strong><br><strong>str</strong>(self):</p><p>当你打印一个对象的时候，触发__str__<br>当你使用 % s 格式化的时候，触发__str__<br>str 强转数据类型的时候，触发__str__<br><strong>repr</strong>(self)：</p><p>repr 是 str 的备胎<br>有__str__的时候执行__str__, 没有实现__str__的时候，执行__repr__<br>repr (obj) 内置函数对应的结果是__repr__的返回值<br>当你使用 % r 格式化的时候 触发__repr__<br>【例子】</p><p>class Cat:<br>&quot;&quot;&quot;定义一个猫类&quot;&quot;&quot;<br>​<br>def <strong>init</strong>(self, new_name, new_age):<br>&quot;&quot;&quot;在创建完对象之后 会自动调用，它完成对象的初始化的功能&quot;&quot;&quot;<br><span class="exturl" data-url="aHR0cDovL3NlbGYubmFtZQ==">self.name</span> = new_name<br>self.age = new_age<br>​<br>def <strong>str</strong>(self):<br>&quot;&quot;&quot;返回一个对象的描述信息&quot;&quot;&quot;<br>return&quot; 名字是:% s , 年龄是:% d&quot; % (<span class="exturl" data-url="aHR0cDovL3NlbGYubmFtZQ==">self.name</span>, self.age)</p><pre><code>def __repr__(self):
    &quot;&quot;&quot;返回一个对象的描述信息&quot;&quot;&quot;
    return &quot;Cat:(%s,%d)&quot; % (self.name, self.age)
</code></pre><p>​<br>def eat(self):<br>print (&quot;% s 在吃鱼....&quot; % <span class="exturl" data-url="aHR0cDovL3NlbGYubmFtZQ==">self.name</span>)<br>​<br>def drink(self):<br>print (&quot;% s 在喝可乐...&quot; % <span class="exturl" data-url="aHR0cDovL3NlbGYubmFtZQ==">self.name</span>)<br>​<br>def introduce(self):<br>print (&quot;名字是:% s, 年龄是:% d&quot; % (<span class="exturl" data-url="aHR0cDovL3NlbGYubmFtZQ==">self.name</span>, self.age))<br>​<br>​</p><h1 id="创建了一个对象"><a class="anchor" href="#创建了一个对象">#</a> 创建了一个对象</h1><p>tom = Cat (&quot;汤姆&quot;, 30)<br>print (tom) # 名字是：汤姆，年龄是：30<br>print (str (tom)) # 名字是：汤姆，年龄是：30<br>print (repr (tom)) # Cat:(汤姆，30)<br>tom.eat () # 汤姆在吃鱼....<br>tom.introduce () # 名字是：汤姆，年龄是：30<br>名字是：汤姆，年龄是：30<br>名字是：汤姆，年龄是：30<br>Cat:(汤姆，30)<br>汤姆在吃鱼....<br>名字是：汤姆，年龄是：30<br><strong>str</strong> (self) 的返回结果可读性强。也就是说，<strong>str</strong> 的意义是得到便于人们阅读的信息，就像下面的 '2019-10-11' 一样。</p><p><strong>repr</strong> (self) 的返回结果应更准确。怎么说，<strong>repr</strong> 存在的目的在于调试，便于开发者使用。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> datetime</pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre>today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2019-10-11</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># datetime.date(2019, 10, 11)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s'</span> <span class="token operator">%</span>today<span class="token punctuation">)</span>  <span class="token comment"># 2019-10-11</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%r'</span> <span class="token operator">%</span>today<span class="token punctuation">)</span>  <span class="token comment"># datetime.date(2019, 10, 11)</span></pre></td></tr></table></figure><p>2020-08-01<br>datetime.date(2020, 8, 1)<br>2020-08-01<br>datetime.date(2020, 8, 1)<br>算术运算符<br>类型工厂函数，指的是 “不通过类而是通过函数来创建对象”。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">pass</span></pre></td></tr><tr><td data-num="3"></td><td><pre>​</pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'builtin_function_or_method'></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'builtin_function_or_method'></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'type'></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'type'></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'type'></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class 'type'></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 123</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># 这个例子中 list 工厂函数把一个元祖对象加工成了一个列表对象。</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># [1, 2, 3]</span></pre></td></tr></table></figure><p>&lt;class 'builtin_function_or_method'&gt;<br>&lt;class 'builtin_function_or_method'&gt;<br>&lt;class 'type'&gt;<br>&lt;class 'type'&gt;<br>&lt;class 'type'&gt;<br>&lt;class 'type'&gt;<br>123<br>[1, 2, 3]<br><strong>add</strong> (self, other) 定义加法的行为：+<br><strong>sub</strong> (self, other) 定义减法的行为：-<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>height <span class="token operator">=</span> height</pre></td></tr><tr><td data-num="5"></td><td><pre>        self<span class="token punctuation">.</span>weight <span class="token operator">=</span> weight</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment"># 两个对象的长相加，宽不变。返回一个新的类</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> others<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> MyClass<span class="token punctuation">(</span>self<span class="token punctuation">.</span>height <span class="token operator">+</span> others<span class="token punctuation">.</span>height<span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight <span class="token operator">+</span> others<span class="token punctuation">.</span>weight<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment"># 两个对象的宽相减，长不变。返回一个新的类</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> others<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">return</span> MyClass<span class="token punctuation">(</span>self<span class="token punctuation">.</span>height <span class="token operator">-</span> others<span class="token punctuation">.</span>height<span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight <span class="token operator">-</span> others<span class="token punctuation">.</span>weight<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment"># 说一下自己的参数</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">intro</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"高为"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token string">" 重为"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>weight<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>​</pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    a <span class="token operator">=</span> MyClass<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    a<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre>    b <span class="token operator">=</span> MyClass<span class="token punctuation">(</span>height<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    b<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>​</pre></td></tr><tr><td data-num="27"></td><td><pre>    c <span class="token operator">=</span> b <span class="token operator">-</span> a</pre></td></tr><tr><td data-num="28"></td><td><pre>    c<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>​</pre></td></tr><tr><td data-num="30"></td><td><pre>    d <span class="token operator">=</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="31"></td><td><pre>    d<span class="token punctuation">.</span>intro<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>​</pre></td></tr><tr><td data-num="33"></td><td><pre>​</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    main<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>​</pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment"># 高为 10  重为 5</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment"># 高为 20  重为 10</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment"># 高为 10  重为 5</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment"># 高为 30  重为 15</span></pre></td></tr></table></figure><p>高为 10 重为 5<br>高为 20 重为 10<br>高为 10 重为 5<br>高为 30 重为 15<br><strong>mul</strong> (self, other) 定义乘法的行为：*<br><strong>truediv</strong> (self, other) 定义真除法的行为：/<br><strong>floordiv</strong> (self, other) 定义整数除法的行为：//<br><strong>mod</strong> (self, other) 定义取模算法的行为：%<br><strong>divmod</strong> (self, other) 定义当被 divmod () 调用时的行为<br>divmod (a, b) 把除数和余数运算结果结合起来，返回一个包含商和余数的元组 (a //b, a % b)。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">divmod</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># (3, 1)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">divmod</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># (4, 0)</span></pre></td></tr></table></figure><p>(3, 1)<br>(4, 0)<br><strong>pow</strong> (self, other [, module]) 定义当被 power () 调用或 ** 运算时的行为<br><strong>lshift</strong> (self, other) 定义按位左移位的行为：&lt;&lt;<br><strong>rshift</strong> (self, other) 定义按位右移位的行为：&gt;&gt;<br><strong>and</strong> (self, other) 定义按位与操作的行为：&amp;<br><strong>xor</strong> (self, other) 定义按位异或操作的行为：^<br><strong>or</strong> (self, other) 定义按位或操作的行为：|<br>反算术运算符<br>反运算魔方方法，与算术运算符保持一一对应，不同之处就是反运算的魔法方法多了一个 “r”。当文件左操作不支持相应的操作时被调用。</p><p><strong>radd</strong> (self, other) 定义加法的行为：+<br><strong>rsub</strong> (self, other) 定义减法的行为：-<br><strong>rmul</strong> (self, other) 定义乘法的行为：*<br><strong>rtruediv</strong> (self, other) 定义真除法的行为：/<br><strong>rfloordiv</strong> (self, other) 定义整数除法的行为：//<br><strong>rmod</strong> (self, other) 定义取模算法的行为：%<br><strong>rdivmod</strong> (self, other) 定义当被 divmod () 调用时的行为<br><strong>rpow</strong> (self, other [, module]) 定义当被 power () 调用或 ** 运算时的行为<br><strong>rlshift</strong> (self, other) 定义按位左移位的行为：&lt;&lt;<br><strong>rrshift</strong> (self, other) 定义按位右移位的行为：&gt;&gt;<br><strong>rand</strong> (self, other) 定义按位与操作的行为：&amp;<br><strong>rxor</strong> (self, other) 定义按位异或操作的行为：^<br><strong>ror</strong> (self, other) 定义按位或操作的行为：|<br>a + b</p><p>这里加数是 a，被加数是 b，因此是 a 主动，反运算就是如果 a 对象的__add__() 方法没有实现或者不支持相应的操作，那么 Python 就会调用 b 的__radd__() 方法。</p><p>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Nint</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__radd__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">.</span>__sub__<span class="token punctuation">(</span>other<span class="token punctuation">,</span> self<span class="token punctuation">)</span> <span class="token comment"># 注意 self 在后面</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>a <span class="token operator">=</span> Nint<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>b <span class="token operator">=</span> Nint<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>  <span class="token comment"># 8</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> b<span class="token punctuation">)</span>  <span class="token comment"># -2</span></pre></td></tr></table></figure><p>8<br>-2<br>增量赋值运算符<br><strong>iadd</strong> (self, other) 定义赋值加法的行为：+=<br><strong>isub</strong> (self, other) 定义赋值减法的行为：-=<br><strong>imul</strong> (self, other) 定义赋值乘法的行为：*=<br><strong>itruediv</strong> (self, other) 定义赋值真除法的行为：/=<br><strong>ifloordiv</strong> (self, other) 定义赋值整数除法的行为：//=<br><strong>imod</strong> (self, other) 定义赋值取模算法的行为：%=<br><strong>ipow</strong> (self, other [, modulo]) 定义赋值幂运算的行为：**=<br><strong>ilshift</strong> (self, other) 定义赋值按位左移位的行为：&lt;&lt;=<br><strong>irshift</strong> (self, other) 定义赋值按位右移位的行为：&gt;&gt;=<br><strong>iand</strong> (self, other) 定义赋值按位与操作的行为：&amp;=<br><strong>ixor</strong> (self, other) 定义赋值按位异或操作的行为：^=<br><strong>ior</strong> (self, other) 定义赋值按位或操作的行为：|=<br>一元运算符<br><strong>neg</strong> (self) 定义正号的行为：+x<br><strong>pos</strong> (self) 定义负号的行为：-x<br><strong>abs</strong> (self) 定义当被 abs () 调用时的行为<br><strong>invert</strong> (self) 定义按位求反的行为：~x<br>属性访问<br><strong>getattr</strong> (self, name): 定义当用户试图获取一个不存在的属性时的行为。<br><strong>getattribute</strong> (self, name)：定义当该类的属性被访问时的行为（先调用该方法，查看是否存在该属性，若不存在，接着去调用__getattr__）。<br><strong>setattr</strong> (self, name, value)：定义当一个属性被设置时的行为。<br><strong>delattr</strong> (self, name)：定义当一个属性被删除时的行为。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getattribute__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__getattribute__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span>item<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__getattr__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__setattr__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__setattr__<span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__delattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__delattr__'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__delattr__<span class="token punctuation">(</span>item<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>​</pre></td></tr><tr><td data-num="18"></td><td><pre>c <span class="token operator">=</span> C<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>c<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment"># __getattribute__</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># __getattr__</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>c<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># __setattr__</span></pre></td></tr><tr><td data-num="25"></td><td><pre>​</pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">del</span> c<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment"># __delattr__</span></pre></td></tr></table></figure><p><strong>getattribute</strong><br><strong>getattr</strong><br><strong>setattr</strong><br><strong>delattr</strong><br>描述符<br>描述符就是将某种特殊类型的类的实例指派给另一个类的属性。</p><p><strong>get</strong> (self, instance, owner) 用于访问属性，它返回属性的值。<br><strong>set</strong> (self, instance, value) 将在属性分配操作中调用，不返回任何内容。<br><strong>del</strong> (self, instance) 控制删除操作，不返回任何内容。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyDecriptor</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__get__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> owner<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__set__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>​</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__delete__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__delete__'</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre>​</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    x <span class="token operator">=</span> MyDecriptor<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>t <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>t<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># __get__ &lt;__main__.MyDecriptor object at 0x000000CEAAEB6B00> &lt;__main__.Test object at 0x000000CEABDC0898> &lt;class '__main__.Test'></span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre>t<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token string">'x-man'</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># __set__ &lt;__main__.MyDecriptor object at 0x00000023687C6B00> &lt;__main__.Test object at 0x00000023696B0940> x-man</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">del</span> t<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># __delete__ &lt;__main__.MyDecriptor object at 0x000000EC9B160A90> &lt;__main__.Test object at 0x000000EC9B160B38></span></pre></td></tr></table></figure><p><strong>get</strong> &lt;<strong>main</strong>.MyDecriptor object at 0x0000022008242668&gt; &lt;<strong>main</strong>.Test object at 0x00000220082427B8&gt; &lt;class '<strong>main</strong>.Test'&gt;<br><strong>set</strong> &lt;<strong>main</strong>.MyDecriptor object at 0x0000022008242668&gt; &lt;<strong>main</strong>.Test object at 0x00000220082427B8&gt; x-man<br><strong>delete</strong> &lt;<strong>main</strong>.MyDecriptor object at 0x0000022008242668&gt; &lt;<strong>main</strong>.Test object at 0x00000220082427B8&gt;<br>定制序列<br>协议（Protocols）与其它编程语言中的接口很相似，它规定你哪些方法必须要定义。然而，在 Python 中的协议就显得不那么正式。事实上，在 Python 中，协议更像是一种指南。</p><p>容器类型的协议</p><p>如果说你希望定制的容器是不可变的话，你只需要定义__len__() 和__getitem__() 方法。<br>如果你希望定制的容器是可变的话，除了__len__() 和__getitem__() 方法，你还需要定义__setitem__() 和__delitem__() 两个方法。<br>【例子】编写一个不可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">CountList</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> args<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span>fromkeys<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__len__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>item<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre>c1 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>c2 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> c2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 7</span></pre></td></tr><tr><td data-num="19"></td><td><pre>​</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>count<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># &#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>count<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment"># &#123;0: 0, 1: 1, 2: 1, 3: 0, 4: 0&#125;</span></pre></td></tr></table></figure><p>3<br>6<br>7<br>{0: 0, 1: 2, 2: 0, 3: 0, 4: 0}<br>{0: 0, 1: 1, 2: 1, 3: 0, 4: 0}<br><strong>len</strong> (self) 定义当被 len () 调用时的行为（返回容器中元素的个数）。<br><strong>getitem</strong> (self, key) 定义获取容器中元素的行为，相当于 self [key]。<br><strong>setitem</strong> (self, key, value) 定义设置容器中指定元素的行为，相当于 self [key] = value。<br><strong>delitem</strong> (self, key) 定义删除容器中指定元素的行为，相当于 del self [key]。<br>【例子】编写一个可改变的自定义列表，要求记录列表中每个元素被访问的次数。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">CountList</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> args<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span>fromkeys<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>​</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__len__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>​</pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>item<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>​</pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__setitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__delitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">del</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>key<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token keyword">if</span> i <span class="token operator">>=</span> key<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="20"></td><td><pre>                self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        self<span class="token punctuation">.</span>count<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>​</pre></td></tr><tr><td data-num="23"></td><td><pre>​</pre></td></tr><tr><td data-num="24"></td><td><pre>c1 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>c2 <span class="token operator">=</span> CountList<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 3</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 6</span></pre></td></tr><tr><td data-num="28"></td><td><pre>c2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">12</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> c2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 15</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>count<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment"># &#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>count<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment"># &#123;0: 0, 1: 0, 2: 2, 3: 0, 4: 0&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">del</span> c1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>count<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token comment"># &#123;0: 0, 1: 0, 2: 0, 3: 0&#125;</span></pre></td></tr></table></figure><p>3<br>6<br>15<br>{0: 0, 1: 2, 2: 0, 3: 0, 4: 0}<br>{0: 0, 1: 0, 2: 2, 3: 0, 4: 0}<br>{0: 0, 1: 0, 2: 0, 3: 0}<br>迭代器<br>迭代是 Python 最强大的功能之一，是访问集合元素的一种方式。<br>迭代器是一个可以记住遍历的位置的对象。<br>迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。<br>迭代器只能往前不会后退。<br>字符串，列表或元组对象都可用于创建迭代器：<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>string <span class="token operator">=</span> <span class="token string">'lsgogroup'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> c <span class="token keyword">in</span> string<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>​</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="6"></td><td><pre>l</pre></td></tr><tr><td data-num="7"></td><td><pre>s</pre></td></tr><tr><td data-num="8"></td><td><pre>g</pre></td></tr><tr><td data-num="9"></td><td><pre>o</pre></td></tr><tr><td data-num="10"></td><td><pre>g</pre></td></tr><tr><td data-num="11"></td><td><pre>r</pre></td></tr><tr><td data-num="12"></td><td><pre>o</pre></td></tr><tr><td data-num="13"></td><td><pre>u</pre></td></tr><tr><td data-num="14"></td><td><pre>p</pre></td></tr><tr><td data-num="15"></td><td><pre>'''</pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr></table></figure><p>l<br>s<br>g<br>o<br>g<br>r<br>o<br>u<br>p<br>l<br>s<br>g<br>o<br>g<br>r<br>o<br>u<br>p<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>links <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token string">'百度'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token string">'阿里'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">:</span> <span class="token string">'腾讯'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> each <span class="token keyword">in</span> links<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s -> %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>each<span class="token punctuation">,</span> links<span class="token punctuation">[</span>each<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="6"></td><td><pre>B -> 百度</pre></td></tr><tr><td data-num="7"></td><td><pre>A -> 阿里</pre></td></tr><tr><td data-num="8"></td><td><pre>T -> 腾讯</pre></td></tr><tr><td data-num="9"></td><td><pre>'''</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">for</span> each <span class="token keyword">in</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>links<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s -> %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>each<span class="token punctuation">,</span> links<span class="token punctuation">[</span>each<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>B -&gt; 百度<br>A -&gt; 阿里<br>T -&gt; 腾讯<br>B -&gt; 百度<br>A -&gt; 阿里<br>T -&gt; 腾讯<br>迭代器有两个基本的方法：iter () 和 next ()。<br>iter (object) 函数用来生成迭代器。<br>next (iterator [, default]) 返回迭代器的下一个项目。<br>iterator -- 可迭代对象<br>default -- 可选，用于设置在没有下一个元素时返回该默认值，如果不设置，又没有下一个元素则会触发 StopIteration 异常。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre>links <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token string">'百度'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token string">'阿里'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">:</span> <span class="token string">'腾讯'</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>​</pre></td></tr><tr><td data-num="3"></td><td><pre>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>links<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">try</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        each <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">break</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># B</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment"># A</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"># T</span></pre></td></tr><tr><td data-num="14"></td><td><pre>​</pre></td></tr><tr><td data-num="15"></td><td><pre>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>links<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># B</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># A</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># T</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># StopIteration</span></pre></td></tr></table></figure><h2 id="batbat"><a class="anchor" href="#batbat">#</a> B<br>A<br>T<br>B<br>A<br>T</h2><p>StopIteration Traceback (most recent call last)<br>&lt;ipython-input-2-682f811edce7&gt; in &lt;module&gt;()<br>17 print(next(it)) # A<br>18 print(next(it)) # T<br>---&gt; 19 print(next(it)) # StopIteration</p><p>StopIteration:<br>把一个类作为一个迭代器使用需要在类中实现两个魔法方法 <strong>iter</strong> () 与 <strong>next</strong>() 。</p><p><strong>iter</strong> (self) 定义当迭代容器中的元素的行为，返回一个特殊的迭代器对象， 这个迭代器对象实现了 <strong>next</strong> () 方法并通过 StopIteration 异常标识迭代的完成。<br><strong>next</strong> () 返回下一个迭代器对象。<br>StopIteration 异常用于标识迭代的完成，防止出现无限循环的情况，在 <strong>next</strong> () 方法中我们可以设置在完成指定循环次数后触发 StopIteration 异常来结束迭代。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Fibs</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        self<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        self<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n</pre></td></tr><tr><td data-num="6"></td><td><pre>​</pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">return</span> self</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        self<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b <span class="token operator">=</span> self<span class="token punctuation">.</span>b<span class="token punctuation">,</span> self<span class="token punctuation">.</span>a <span class="token operator">+</span> self<span class="token punctuation">.</span>b</pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>a <span class="token operator">></span> self<span class="token punctuation">.</span>n<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>            <span class="token keyword">raise</span> StopIteration</pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>a</pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>​</pre></td></tr><tr><td data-num="17"></td><td><pre>fibs <span class="token operator">=</span> Fibs<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">for</span> each <span class="token keyword">in</span> fibs<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># 1 1 2 3 5 8 13 21 34 55 89</span></pre></td></tr></table></figure><p>1 1 2 3 5 8 13 21 34 55 89<br>4.10 生成器</p><p>在 Python 中，使用了 yield 的函数被称为生成器（generator）。<br>跟普通函数不同的是，生成器是一个返回迭代器的函数，只能用于迭代操作，更简单点理解生成器就是一个迭代器。<br>在调用生成器运行的过程中，每次遇到 yield 时函数会暂停并保存当前所有的运行信息，返回 yield 的值，并在下一次执行 next () 方法时从当前位置继续运行。<br>调用一个生成器函数，返回的是一个迭代器对象。<br>【例子】</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">myGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'生成器执行！'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">yield</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">yield</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    </pre></td></tr><tr><td data-num="6"></td><td><pre>myG <span class="token operator">=</span> myGen<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> each <span class="token keyword">in</span> myG<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token triple-quoted-string string">'''</span></pre></td></tr><tr><td data-num="11"></td><td><pre>生成器执行！</pre></td></tr><tr><td data-num="12"></td><td><pre>1</pre></td></tr><tr><td data-num="13"></td><td><pre>2</pre></td></tr><tr><td data-num="14"></td><td><pre>'''</pre></td></tr><tr><td data-num="15"></td><td><pre>​</pre></td></tr><tr><td data-num="16"></td><td><pre>myG <span class="token operator">=</span> myGen<span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment"># 生成器执行！</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment"># 1</span></pre></td></tr><tr><td data-num="20"></td><td><pre>​</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 2</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myG<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># StopIteration</span></pre></td></tr></table></figure><h2 id="生成器执行12生成器执行12"><a class="anchor" href="#生成器执行12生成器执行12">#</a> 生成器执行！<br>1<br>2<br>生成器执行！<br>1<br>2</h2><p>StopIteration Traceback (most recent call last)<br>&lt;ipython-input-6-56bfa60ce8de&gt; in &lt;module&gt;()<br>14<br>15 print(next(myG)) # 2<br>---&gt; 16 print(next(myG)) # StopIteration</p><p>StopIteration:<br>【例子】用生成器实现斐波那契数列。</p><figure class="highlight python"><figcaption data-lang="python"><span>n</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">def</span> <span class="token function">libs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    a <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    b <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">if</span> a <span class="token operator">></span> n<span class="token punctuation">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token keyword">return</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">yield</span> a</pre></td></tr><tr><td data-num="9"></td><td><pre>​</pre></td></tr><tr><td data-num="10"></td><td><pre>​</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">for</span> each <span class="token keyword">in</span> libs<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">print</span><span class="token punctuation">(</span>each<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>​</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment"># 1 1 2 3 5 8 13 21 34 55 89</span></pre></td></tr></table></figure><p>1 1 2 3 5 8 13 21 34 55 89</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-03-22 14:50:46" itemprop="dateModified" datetime="2021-03-22T14:50:46+08:00">2021-03-22</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.jpg" alt="John Doe 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="John Doe 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文博主： </strong>John Doe <i class="ic i-at"><em>@</em></i>Alan</li><li class="link"><strong>本文链接：</strong> <a href="http://47.97.229.110/2021/01/29/python-3-day/" title="python_3_day">http://47.97.229.110/2021/01/29/python-3-day/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/01/26/2020-1-26/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicit31ffoj20zk0m8naf.jpg" title="2020-1-26"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 日志</span><h3>2020-1-26</h3></a></div><div class="item right"><a href="/2021/01/29/python-2-day/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicm07ih54j20zk0m84qp.jpg" title="python_2_day"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Python</span><h3>python_2_day</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E8%BF%9B%E6%9D%A5%E7%9A%84%E8%80%81%E9%A9%AC%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F%E5%8F%AB%E5%81%9A%E5%AE%9E%E5%8F%82%E5%9B%A0%E4%B8%BAta%E6%98%AF%E5%85%B7%E4%BD%93%E7%9A%84%E5%8F%82%E6%95%B0%E5%80%BC"><span class="toc-number">1.</span> <span class="toc-text">传递进来的老马的程序人生叫做实参，因为 Ta 是具体的参数值！</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E8%BF%87%E7%A8%8B%E4%B8%ADname%E6%98%AF%E5%BD%A2%E5%8F%82"><span class="toc-number">2.</span> <span class="toc-text">函数定义过程中 name 是形参</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#help-on-function-myfirstfunction-in-module-main"><span class="toc-number">3.</span> <span class="toc-text">Help on function MyFirstFunction in module main:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#myfirstfunctionname"><span class="toc-number">4.</span> <span class="toc-text">MyFirstFunction(name)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E8%BF%87%E7%A8%8B%E4%B8%ADname%E6%98%AF%E5%BD%A2%E5%8F%82-2"><span class="toc-number">5.</span> <span class="toc-text">函数定义过程中 name 是形参</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#70"><span class="toc-number">6.</span> <span class="toc-text">70</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#60"><span class="toc-number">7.</span> <span class="toc-text">60</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#50"><span class="toc-number">8.</span> <span class="toc-text">50</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.</span> <span class="toc-text">创建了一个对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#batbat"><span class="toc-number">9.1.</span> <span class="toc-text">B A T B A T</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E6%89%A7%E8%A1%8C12%E7%94%9F%E6%88%90%E5%99%A8%E6%89%A7%E8%A1%8C12"><span class="toc-number">9.2.</span> <span class="toc-text">生成器执行！ 1 2 生成器执行！ 1 2</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2021/01/29/python-3-day/" rel="bookmark" title="python_3_day">python_3_day</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="John Doe" data-src="/images/avatar.jpg"><p class="name" itemprop="name">John Doe</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">20</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">10</span> <span class="name">分类</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/01/26/2020-1-26/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/01/29/python-2-day/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" title="分类于 人工智能">人工智能</a></div><span><a href="/2021/01/29/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_3-day/" title="深度学习_3_day">深度学习_3_day</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%97%A5%E5%BF%97/" title="分类于 日志">日志</a></div><span><a href="/2021/01/26/2020-1-26/" title="2020-1-26">2020-1-26</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%97%A5%E5%B8%B8/" title="分类于 日常">日常</a></div><span><a href="/2021/03/15/103%E7%9A%84%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/" title="103寝室的日常">103寝室的日常</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Hexo/" title="分类于 Hexo">Hexo</a></div><span><a href="/2021/01/26/%E7%89%B9%E6%AE%8A%E5%8A%9F%E8%83%BD/" title="特殊功能">特殊功能</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Html/" title="分类于 Html">Html</a></div><span><a href="/2021/01/29/html_2day%20/" title="html_2_day">html_2_day</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" title="分类于 人工智能">人工智能</a></div><span><a href="/2021/01/29/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_1_day/" title="深度学习_1_day">深度学习_1_day</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a></div><span><a href="/2021/01/29/SQL/" title="SQL_1day">SQL_1day</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/C/" title="分类于 C++">C++</a></div><span><a href="/2021/01/29/C++_1_day/" title="C++_1_day">C++_1_day</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Hexo/" title="分类于 Hexo">Hexo</a></div><span><a href="/2021/05/01/hello-world/" title="Hello Hexo">Hello Hexo</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Python/" title="分类于 Python">Python</a></div><span><a href="/2021/01/29/python-2-day/" title="python_2_day">python_2_day</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">John Doe @ Yume Shoka</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">134k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:02</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/01/29/python-3-day/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:{placeholder:"1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快💪"},fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->